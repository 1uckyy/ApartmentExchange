<form method="get">
  <div class="schedule-background">
    <p>
      <a class="btn btn-outline-dark" href='/schedules/new'>Add</a>
    </p>
    <label>Search by:</label>
    <select name="select" class="custom-select custom-select-sm" id="select" style="width:auto">
      <option>Teacher</option>
      <option>Group</option>
      <option>Room</option>
    </select>
    <div class="input-group input-group-sm mb-3">
      <input class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm" name="search"
             placeholder="Search" value=<%=@search %>>
      <div class="input-group-append">
        <input class="input-group-text" type="submit" value="Search">
      </div>
    </div>
    <table class="table table-hover">
      <thead>
      <tr>
        <th scope="col">Subject</th>
        <th scope="col">Group</th>
        <th scope="col">Teacher</th>
        <th scope="col">Room</th>
        <th scope="col">Lesson</th>
        <th scope="col">Weekday</th>
        <th scope="col">Change</th>
        <th scope="col">Remove</th>
      </tr>
      </thead>
      <tbody>
      <% @flats.each do |flat| %>
        <% @flat = flat %>
        <%= render :flats_partial %>
      <% end  %>
      </tbody>
    </table>
    <p>
      <% page_start = (@page_number - 2) > 0 ? @page_number - 2 : 0 %>
      <% page_end = (@page_number + 2) < @pages_count ? @page_number + 2 : @pages_count %>

      <% page_start.upto(page_end) do |page_num| %>
        <% if page_num == @page_number %>
          <%= page_num + 1 %>
        <% else %>
          <a href="/schedules?page_number=<%= page_num %>&search=<%=@search %>">
            <%= page_num + 1 %>
          </a>
        <% end %>
      <% end %>
    </p>
  </div>
</form>